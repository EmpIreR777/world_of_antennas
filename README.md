## Описание проекта

Этот проект представляет собой Telegram-бота, разработанного с использованием библиотеки aiogram. Бот предоставляет функции взаимодействия с пользователями, такие как создание профилей, опросы, генерация пользователей и многое другое. Он также использует PostgreSQL в качестве базы данных для хранения информации о пользователях и Redis для кеширования данных.

## Установка и запуск

### Предварительные требования

Перед началом убедитесь, что у вас установлены следующие компоненты:

- Python 3.7 или выше
- Docker и Docker Compose
- PostgreSQL
- Redis (в случае, если вы не будете использовать Docker для Redis)

### Клонирование репозитория

Клонируйте репозиторий проекта на вашу локальную машину:

```git clone git@github.com:EmpIreR777/tg_bot_aio.git```


### Установка зависимостей

Установите необходимые библиотеки через pip. Обычно файлы зависимостей могут быть в requirements.txt:

```pip install -r requirements.txt```


### Настройка среды

Создайте файл .env в корневой директории проекта и укажите в нем необходимые переменные окружения:

BOT_TOKEN=ваш_токен_бота
DATABASE_URL=postgresql://user:password@localhost/dbname
REDIS_URL=redis://localhost:6379/0


Замените значения на ваши собственные.

### Запуск с помощью Docker Compose

Для запуска приложения и всех его зависимостей с помощью Docker Compose выполните следующие шаги:

1. Убедитесь, что у вас есть файлы docker-compose.yml и redis-docker-compose.yml в корневой директории проекта.
2. Запустите следующие команды для запуска всех сервисов:

```docker-compose -f docker-compose.yml up -d```
```docker-compose -f redis-docker-compose.yml up -d```


Это создаст и запустит контейнеры для вашего приложения и Redis. Используйте флаг -d для работы в фоновом режиме.

### Миграция базы данных

Вам нужно будет создать таблицы в базе данных. Если у вас есть миграции, выполните их с помощью Alembic или аналогичного инструмента, чтобы настроить вашу базу данных на основе модели:
в разработке


Если вы используете функцию создания таблиц, как в этом проекте, она будет автоматически вызвана при запуске бота.

### Запуск бота

После успешного запуска Docker и настройки базы данных, запустите бота:

python aiogram_run.py


Где aiogram_run.py — это основной файл вашего бота.

### Остановка приложения

Чтобы остановить и удалить контейнеры, выполните:

docker-compose -f docker-compose.yml down


## Структура проекта

- create_bot.py: конфигурация бота и базовых функций.
- handlers/: папка с обработчиками команд бота.
- keyboards/: папка с определениями клавиатур.
- aiogram_run.py: основной файл бота.
- requirements.txt: файл зависимостей Python.
- docker-compose.yml: конфигурация Docker для вашего приложения.

## Заключение

Этот бот предоставляет гибкое решение для взаимодействия с пользователями в Telegram и может быть легко настроен и развернут. Вы можете дополнительно расширять его функциональность, добавляя новые функции и команды. Enjoy coding!